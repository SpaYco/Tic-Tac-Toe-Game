#!/usr/bin/env ruby
# rubocop:disable Style/GlobalVars, Layout/LineLength, Metrics/MethodLength
class Game
  def initialize(player1, player2)
    @player1 = player1
    @player2 = player2
    start
  end

  def start
    $moves = {
      'a1' => 'a1',
      'a2' => 'a2',
      'a3' => 'a3',
      'b1' => 'b1',
      'b2' => 'b2',
      'b3' => 'b3',
      'c1' => 'c1',
      'c2' => 'c2',
      'c3' => 'c3'
    }
    puts "Welcome #{@player1} and #{@player2}"
    puts "Let's start the game"
    puts "Here's your current board"
    puts '----------'
    puts "|#{$moves['a1']}|#{$moves['a2']}|#{$moves['a3']}|"
    puts '----------'
    puts "|#{$moves['b1']}|#{$moves['b2']}|#{$moves['b3']}|"
    puts '----------'
    puts "|#{$moves['c1']}|#{$moves['c2']}|#{$moves['c3']}|"
    puts '----------'
    current_player = @player1
    $game_over = false
    while $game_over == false 
      puts "#{current_player} enter your move : "
      current_move = gets.chomp
      add(current_player, current_move)
      current_player == @player1 ? current_player = @player2 : current_player = @player1
    end

  end

  private

  def add(player, move)
    $moves[move] = 'X' if player == @player1
    $moves[move] = 'O' if player == @player2
    puts 'Please enter a valid move' if player != @player1 && player != @player2
    puts "Here's your current board"
    puts '----------'
    puts "|#{$moves['a1']}|#{$moves['a2']}|#{$moves['a3']}|"
    puts '----------'
    puts "|#{$moves['b1']}|#{$moves['b2']}|#{$moves['b3']}|"
    puts '----------'
    puts "|#{$moves['c1']}|#{$moves['c2']}|#{$moves['c3']}|"
    puts '----------'
  end

  def check
    win = [[$moves['a1'],$moves['a2'],$moves['a3']], [$moves['b1'],$moves['b2'],$moves['b3']], [$moves['c1'],$moves['c2'],$moves['c3']], [$moves['a1'],$moves['b1'],$moves['c1']], [$moves['a2'],$moves['b2'],$moves['c2']], [$moves['a3'],$moves['b3'],$moves['c3']], [$moves['a1'],$moves['b2'],$moves['c3']], [$moves['a3'],$moves['b2'],$moves['c1']]]
  end
end
# rubocop:enable Style/GlobalVars, Layout/LineLength, Metrics/MethodLength
puts 'Player1 enter your name: '
input1 = gets.chomp
puts 'Player2 enter your name: '
input2 = gets.chomp

new_game = Game.new(input1, input2)


